{"ast":null,"code":"import _jsx from \"@babel/runtime/helpers/jsx\";\n\n/* eslint no-undef: \"error\" */\n\n/* eslint-env browser */\nimport React, { useState, useContext } from 'react';\nimport PageLoader from 'Lib/Pageloader';\nimport { AppContext } from '../../context';\nimport Uploadlogo from '../../icons/upload.png';\nimport './file.css';\n\nvar FileUploadButton = function FileUploadButton() {\n  var _useContext = useContext(AppContext),\n      pageLoader = _useContext.pageLoader,\n      updateCameraFlag = _useContext.updateCameraFlag,\n      updatePreviewFlag = _useContext.updatePreviewFlag,\n      uploadSelectedPhoto = _useContext.uploadSelectedPhoto,\n      apiError = _useContext.apiError,\n      apiErrorMessage = _useContext.apiErrorMessage;\n\n  var _useState = useState([{\n    name: 'No file selected yet'\n  }]),\n      selectedFile = _useState[0],\n      setSelectedFile = _useState[1];\n\n  var selectFile = function selectFile(e) {\n    console.log(\"here\" + e.target.files[0].name);\n    setSelectedFile(e.target.files);\n  };\n\n  var uploadFile = function uploadFile() {\n    var formData = new FormData();\n    var files = [];\n    Array.from(selectedFile).forEach(function (file) {\n      formData.append(file);\n    }); // formData.append('file', selectedFile[0])\n\n    updateCameraFlag(false);\n    updatePreviewFlag(false);\n    uploadSelectedPhoto(formData);\n  };\n\n  return React.createElement(React.Fragment, null,\n  /*#__PURE__*/\n  _jsx(\"div\", {\n    className: \"col-head flex bg-white pl-15 pt-10 pb-10 pr-10 mt-20 mb-20\"\n  }, void 0,\n  /*#__PURE__*/\n  _jsx(\"div\", {\n    className: \"file-button\"\n  }, void 0,\n  /*#__PURE__*/\n  _jsx(\"input\", {\n    className: \"hide-file\",\n    type: \"file\",\n    onChange: function onChange(e) {\n      return selectFile(e);\n    },\n    multiple: true\n  }),\n  /*#__PURE__*/\n  _jsx(\"div\", {\n    className: \"mb-20\"\n  }, void 0,\n  /*#__PURE__*/\n  _jsx(\"img\", {\n    className: \"page-header-icon\",\n    src: Uploadlogo,\n    alt: \"text\"\n  })),\n  /*#__PURE__*/\n  _jsx(\"div\", {}, void 0, \"Select your file\"),\n  /*#__PURE__*/\n  _jsx(\"div\", {\n    className: \"fs-13 lh-title mt-5 c-black-60 fw-400\"\n  }, void 0,\n  /*#__PURE__*/\n  _jsx(\"ul\", {}, void 0, Array.from(selectedFile).map(function (file) {\n    return (\n      /*#__PURE__*/\n      _jsx(\"li\", {}, void 0, \" \", file.name, \" \")\n    );\n  }))))),\n  /*#__PURE__*/\n  _jsx(\"div\", {}, void 0,\n  /*#__PURE__*/\n  _jsx(\"button\", {\n    type: \"button\",\n    className: \"Button--secondary\",\n    onClick: uploadFile\n  }, void 0, \"Upload\")), apiError ?\n  /*#__PURE__*/\n  _jsx(\"div\", {\n    className: \"mt-20 bg-darker-gray c-white pl-20 pr-20 pb-10 pt-10 lh-copy\"\n  }, void 0, apiErrorMessage) : null, pageLoader ?\n  /*#__PURE__*/\n  _jsx(PageLoader, {\n    title: \"Uploading your file\",\n    message: \"Please wait while we fetch your code\"\n  }) : null);\n};\n\nvar _default = FileUploadButton;\nexport default _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(FileUploadButton, \"FileUploadButton\", \"/home/krishnamohan/projects/major/code_runner_ui/src/Components/FileUploadButton/index.jsx\");\n\n  __REACT_HOT_LOADER__.register(_default, \"default\", \"/home/krishnamohan/projects/major/code_runner_ui/src/Components/FileUploadButton/index.jsx\");\n}();\n\n;","map":{"version":3,"sources":["/home/krishnamohan/projects/major/code_runner_ui/src/Components/FileUploadButton/index.jsx"],"names":["React","useState","useContext","PageLoader","AppContext","Uploadlogo","FileUploadButton","pageLoader","updateCameraFlag","updatePreviewFlag","uploadSelectedPhoto","apiError","apiErrorMessage","name","selectedFile","setSelectedFile","selectFile","e","console","log","target","files","uploadFile","formData","FormData","Array","from","forEach","file","append","map"],"mappings":"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","sourcesContent":["/* eslint no-undef: \"error\" */\n/* eslint-env browser */\nimport React, { useState, useContext } from 'react'\nimport PageLoader from 'Lib/Pageloader'\nimport { AppContext } from '../../context'\nimport Uploadlogo from '../../icons/upload.png'\nimport './file.css'\n\nconst FileUploadButton = () => {\n  const {\n    pageLoader,\n    updateCameraFlag,\n    updatePreviewFlag,\n    // updateFileFlag,\n    uploadSelectedPhoto,\n    apiError,\n    apiErrorMessage\n    // updateCodeFlag\n  } = useContext(AppContext)\n\n  const [selectedFile, setSelectedFile] = useState([\n    {name: 'No file selected yet'}\n  ])\n\n  const selectFile = e => {\n    console.log(\"here\" + e.target.files[0].name)\n    setSelectedFile(e.target.files)\n  }\n\n  const uploadFile = () => {\n    const formData = new FormData()\n    var files = []\n    Array.from(selectedFile).forEach(file => {\n      formData.append(file)\n    })\n    // formData.append('file', selectedFile[0])\n    updateCameraFlag(false)\n    updatePreviewFlag(false)\n    uploadSelectedPhoto(formData)\n  }\n\n  return (\n    <>\n      <div className=\"col-head flex bg-white pl-15 pt-10 pb-10 pr-10 mt-20 mb-20\">\n        <div className=\"file-button\">\n          <input className=\"hide-file\" type=\"file\" onChange={e => selectFile(e)} multiple/>\n          <div className=\"mb-20\">\n            <img className=\"page-header-icon\" src={Uploadlogo} alt=\"text\" />\n          </div>\n          <div>Select your file</div>\n          <div className=\"fs-13 lh-title mt-5 c-black-60 fw-400\">\n            <ul>\n              { Array.from(selectedFile).map(file => {\n                return <li> {file.name} </li>\n              }) }\n            </ul>\n          </div>\n        </div>\n      </div>\n      <div>\n        <button\n          type=\"button\"\n          className=\"Button--secondary\"\n          onClick={uploadFile}\n        >\n          Upload\n        </button>\n      </div>\n      <If condition={apiError}>\n        <div className=\"mt-20 bg-darker-gray c-white pl-20 pr-20 pb-10 pt-10 lh-copy\">\n          {apiErrorMessage}\n        </div>\n      </If>\n\n      <If condition={pageLoader}>\n        <PageLoader\n          title=\"Uploading your file\"\n          message=\"Please wait while we fetch your code\"\n        />\n      </If>\n    </>\n  )\n}\n\nexport default FileUploadButton\n"]},"metadata":{},"sourceType":"module"}
import React, { PureComponent } from 'react'
import PropTypes from 'prop-types'

import { Slide } from 'Lib/Animate'
import Modal from 'Lib/Modal'
import Overlay from 'Lib/Overlay'
import { List, ListItem } from 'Lib/List'
import SortList from './SortList'

class SortModal extends PureComponent {
	handleSortingChange = (value, order) => {
		const { closeFn, handleSortingChange } = this.props;
		closeFn();
		handleSortingChange(value, order);
	}
	render() {
		const { closeFn, slideUp, onSort, sortValue, sortType } = this.props;
		return (
			<div>
				{slideUp ?
					<Overlay onClick={closeFn} />
					: ''}
				<Slide
					in={slideUp}
					timeout={{ enter: 500, exit: 500 }}
					mountOnEnter={true}
					unmountOnExit={true}
					appear={true}
				>
					<Modal type="renderProp"
						bottom={true}
						className="br0 p-fixed"
					>
						<p className="bg-light-gray c-black-50 ta-l fw-500 fs-14 lh-copy pt-10 pb-10 bb-0 pl-8 pr-8">SORT BY</p>
						<div className="overflow-y-scroll" style={{ maxHeight: '50vh' }}>
							<List className="bt-0">
								<SortList
									label="Featured"
									isActive={(!sortValue || sortValue === "featured") ? true : false}
									value="featured"
									handleSortingChange={this.handleSortingChange}
								/>
								<SortList
									label="TripAdvisor Rating"
									isActive={sortValue === "tripAdvisorRating" ? true : false}
									order="desc"
									value="tripAdvisorRating"
									handleSortingChange={this.handleSortingChange}
								/>
								<SortList
									label="Price - Low to High"
									value="price"
									order="asc"
									isActive={(sortValue === "price" && sortType === "asc") ? true : false}
									handleSortingChange={this.handleSortingChange}
								/>
								<SortList
									label="Price - High to Low"
									value="price"
									order="desc"
									isActive={(sortValue === "price" && sortType === "desc") ? true : false}
									handleSortingChange={this.handleSortingChange}
								/>
								<SortList

								/>


							</List>
						</div>
					</Modal>
				</Slide>
			</div>
		)
	}
}

SortModal.propTypes = {
	closeFn: PropTypes.func,
	slideUp: PropTypes.boolean
}

SortModal.defaultProps = {
	closeFn: () => { },
	slideUp: false
}

export default SortModal


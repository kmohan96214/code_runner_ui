import React, { Component, Fragment } from "react";
import PropTypes from "prop-types";

import parse from 'date-fns/parse'
import format from 'date-fns/format'

import Recent from "./icons/recent.svg"

class RecentSearch extends Component {

	recentSearchClicked = () => {
		const { handleHotelSearch, search } = this.props;
		handleHotelSearch(search);
	}
	render() {
		const { icon, search } = this.props
		const {
			city,
			roomAllocations,
			chkIn,
			chkOut
		} = search

		const formatedchkIn = new Date(format(parse(chkIn, 'DD/MM/YYYY', new Date()), 'YYYY/MM/DD')).toString()
		const formatedchkOut = new Date(format(parse(chkOut, 'DD/MM/YYYY', new Date()), 'YYYY/MM/DD')).toString()

		return (

			<div className="flex flex-row flex-inline" onClick={this.recentSearchClicked}>
				<div className="flex flex-row flex-top flex-between bg-blue-grey br2 pr-12 pb-12 pt-12 pl-12 mr-5" style={{ width: '97px' }}>
					<p className="flex flex-column w-32" >
						<span className="fs-13 lh-title c-blue flex-start pb-4" >{formatedchkIn.split(' ')[0]}</span>
						<span className="fs-11 lh-title c-light-blue flex flex-between ws-nowrap">{formatedchkIn.split(' ')[2]} {formatedchkIn.split(' ')[1]}</span>
					</p>
					<span className="c-blue pr-5">â€“</span>
					<p className="flex flex-column w-32" >
						<span className="fs-13 lh-title c-blue flex-start pb-4" >{formatedchkOut.split(' ')[0]}</span>
						<span className="fs-11 lh-title c-light-blue flex flex-between ws-nowrap">{formatedchkOut.split(' ')[2]} {formatedchkOut.split(' ')[1]}</span>
					</p>
				</div>
			</div>
		);
	}
}

export default RecentSearch;

import React, { PureComponent } from 'react'
import PropTypes from 'prop-types'

import Deal from 'Lib/Deal'
import Modal from 'Lib/Modal'
import Overlay from 'Lib/Overlay'

class DealsModal extends PureComponent {

  render() {
    const {closeModalFn, dealMessage} = this.props;
    return (
        <Overlay>
            <Modal
                type="renderProp"
                primaryButton="Okay"
                onPrimaryAction={closeModalFn}
                className="pl-15 pr-15"
            >
                <div className="flex flex-column bb pb-10 pt-10 pl-15 pr-15">
                    <ul className="list--separated tt-u flex c-bright-red">
                        <li className="fs-11 pb-5 fw-600">20% OFF</li>
                        <li className="fs-11 pb-5 fw-600">&#10003; 2 deals applied</li>
                    </ul>
                    <p className="flex flex-middle pb-5">
                        <p className="fs-17 fw-600">₹4,530</p>
                        <span className="fs-13 c-black-40 pl-5">
                            <strike>₹ 16,400</strike>
                        </span>
                    </p>
                    <p className="fs-13 c-black-40 w-100p ta-l">Inclusive of all taxes </p>
                </div>
                {dealMessage.length ?
                    dealMessage.map((message,index) =>  
                        <Deal className={"bg-white Deal__applied pt-10 pb-10 pl-15 pr-15" + (index !== (dealMessage.length - 1) ? ' bb' : '')} message={message} /> 
                        )
                    :''
                }
            </Modal>
        </Overlay>
    )
  }
}

DealsModal.propTypes = {
    closeModalFn: PropTypes.func,
    dealMessage: PropTypes.arrayOf(PropTypes.string),
}

DealsModal.defaultProps = {
    closeModalFn: () => {},
    dealMessage:[]
}

export default DealsModal

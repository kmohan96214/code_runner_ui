export const validateShukranCard = shukranCode => {
  const shukranCodeRegex = /(?:\0|^)(\d{16})(?:\0|$)/
  const result = shukranCode.slice(0, 15)
  const output = result % 9
  const lastDigit = shukranCode.slice(15, 16)
  if (
    output === parseInt(lastDigit, 10) &&
    shukranCodeRegex.test(shukranCode)
  ) {
    // ShukranCard.setIsValidShukranCard = true
    return true
  }
  return false
}

export const createShukranPayload = (fareKey, pricings) => {
  const baseFare = pricings.adtt + pricings.chdt + pricings.inftt
  const shukranPayload = {
    fares: [
      {
        fare_key: fareKey,
        price: parseFloat(pricings.tpr),
        fare_breakup: {
          BF: parseFloat(baseFare),
          TAX: parseFloat(pricings.tax)
        }
      }
    ],
    program_name: 'SHUKRAN'
  }
  return shukranPayload
}

import React from 'react'
import classNames from 'classnames'
import PropTypes from 'prop-types'
import { List, ListItem } from 'Lib/List'

import { Shake } from 'Lib/Animate'

import Cleave from './Cleave'
import CVVInput from './CVVInput'

export default function CreditCard({
  CardLogo,
  isRTL,
  error = {},
  animate = {},
  cardNumberProps = {},
  textCCExpiryPlaceholder = '',
  expiryDateProps = {},
  placeHolderCVV = 'CVV',
  cvvProps = {}
}) {
  const creditCardFieldClassName = classNames('input input--text fs-15', {
    'ta-r': isRTL
  })
  const cardNumberClassList = classNames(
    'h-48 flex flex-middle flex-between flex-center',
    {
      'has-error': error.cardNumber
    }
  )

  const cvvClassList = classNames(
    'h-48 flex flex-middle flex-between flex-center',
    {
      'has-error': error.cvv
    }
  )

  const expiryDateClassList = classNames(
    'h-48 flex flex-middle flex-between flex-center',
    {
      'has-error': error.expiryDate
    }
  )

  return (
    <div>
      <List className="mt-10">
        <ListItem className={cardNumberClassList}>
          <Shake animate={animate.cardNumber} className="w-100p">
            <Cleave
              dir="ltr"
              type="tel"
              name="cardNumber"
              className={creditCardFieldClassName}
              autoComplete="cc-number"
              {...cardNumberProps}
            />
          </Shake>
          <CardLogo />
        </ListItem>
      </List>
      <List className="bt-0 flex">
        <ListItem className={expiryDateClassList}>
          <Shake animate={animate.expiryDate}>
            <Cleave
              type="tel"
              dir="ltr"
              name="expiryDate"
              autoComplete="cc-exp"
              className={creditCardFieldClassName}
              placeholder={textCCExpiryPlaceholder}
              {...expiryDateProps}
            />
          </Shake>
        </ListItem>
        <ListItem className={cvvClassList}>
          <Shake animate={animate.cvv}>
            <CVVInput
              autoComplete="cc-csc"
              name="cvv"
              placeholder={placeHolderCVV}
              {...cvvProps}
            />
          </Shake>
        </ListItem>
      </List>
    </div>
  )
}

/*eslint-disable*/
import React, { PureComponent } from 'react'
import PropTypes from 'prop-types'
import { ListItem } from 'Lib/List'

import Select from 'Lib/Form/NativeSelect'
import { connect } from 'react-redux'

import { setHotelSearchHistory } from 'containers/Hotels/Results/actions'

class ChildAge extends PureComponent {
  state = {
    childAge: this.props.childMetaData ? this.props.childMetaData.age : 0
  }

  handleChildAgeSelection = age => {
    this.setState({ childAge: age })
  }

  render() {
    const { childMetaData, childNumber } = this.props
    const ageOptions = Array(10)
      .fill()
      .map((x, index) => {
        return <option value={index}>{index}</option>
      })

    return (
      <Select
        name="age"
        label={`Child ${childNumber + 1} age`}
        labelClassName="fs-16 c-black-90 flex-fix c-black-90 c-black-90"
        selectClassName="fs-16"
        wrapper={ListItem}
        onChange={this.handleChildAgeSelection}
        wrapperClassName="h-48 flex flex-middle"
        value={this.state.childAge}
      >
        <option value="">Select age</option>

        {ageOptions}
      </Select>
    )
  }
}

const mapStateToProps = ({ data }) => {
  return {
    query: data.hotels.hotelResult.searchQuery
  }
}

export default connect(
  mapStateToProps,
  { setHotelSearchHistory }
)(ChildAge)

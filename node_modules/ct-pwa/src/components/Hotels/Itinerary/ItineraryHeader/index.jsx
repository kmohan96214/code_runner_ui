import React from 'react'
import { Star } from 'Lib/Rating'
import { Truncate } from 'Lib/Text'
import { constructHotelDetailsImageUrl } from 'Utils/hotels'
import { calculateImageHeight } from 'Utils'

const ItineraryHeader = ({ name, area, rating, hotelImageURL }) => {
  const heroImageWidth = window ? window.innerWidth : 200
  const heroImageHeight = calculateImageHeight(heroImageWidth)
  const URL = constructHotelDetailsImageUrl(
    hotelImageURL,
    `w_${heroImageWidth * 2},h_${heroImageHeight *
      2},fl_progressive,q_auto,c_fill,g_auto`
  )
  const style = {}
  if (URL) {
    style.backgroundImage = `url("${URL}")`
  } else {
    style.backgroundColor = '#efeff4'
  }
  return (
    <div className="ItineraryHeader" style={style}>
      <div className="ItineraryHeader__overlay" />

      <div className="ItineraryHeader__content">
        <Truncate className="ItineraryHeader__name">{name}</Truncate>
        <p className="ItineraryHeader__area">{area}</p>
        <Star
          rating={rating}
          activeColor="#ffffff"
          emptyColor="rgba(255,255,255,.4)"
        />
      </div>
    </div>
  )
}

export default ItineraryHeader

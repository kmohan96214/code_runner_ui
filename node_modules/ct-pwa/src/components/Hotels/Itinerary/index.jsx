import React, { PureComponent } from 'react'
import PropTypes from 'prop-types'

import Pageloader from 'Lib/Pageloader'
import ItineraryHeader from './ItineraryHeader'
import ItineraryBlockComponent from './ItineraryBlock'
import Deal from './Deals'

class ItineraryComponent extends PureComponent {
  render() {
    const {
      hotelData: { name, area = '', starRating = 0, image },
      offers
    } = this.props
    return (
      <div>
        <If condition={this.props.itineraryLoading}>
          <Pageloader title="Hang on" message="Building your itinerary..." />
        </If>
        <div>
          <ItineraryHeader
            name={name}
            area={area}
            rating={starRating}
            hotelImageURL={image}
          />
          <If condition={offers}>
            <Deal message={offers.description} key={offers.id} url={offers.url} />
          </If>
          <ItineraryBlockComponent
            itineraryInfo={this.props.itineraryInfo}
            hotelData={this.props.hotelData}
          />
        </div>
      </div>
    )
  }
}
ItineraryComponent.propTypes = {
  itineraryLoading: PropTypes.bool,
  itineraryInfo: PropTypes.objectOf(PropTypes.any),
  hotelData: PropTypes.objectOf(PropTypes.any)
}
ItineraryComponent.defaultProps = {
  itineraryLoading: false,
  itineraryInfo: {},
  hotelData: {}
}

export default ItineraryComponent

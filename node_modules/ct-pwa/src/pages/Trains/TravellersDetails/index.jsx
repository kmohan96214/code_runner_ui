import React from 'react'
import { PropTypes } from 'prop-types'

import Header from 'Lib/Header'
import { Pagetitle } from 'Lib/Subheader'
import Sticky from 'Lib/Sticky'

import TravellersDetailsContainer from 'Containers/Trains/TravellersDetails'

import getDisplayCategory from 'Utils/travellersCategory'

const TravellersDetails = props => {
  const [type, index] = props.location.query.id.split('-')
  const pageTitle = `${getDisplayCategory(type)} ${index}`
  return (
    <div>
      <Sticky>
        <Header menu={true} />
        <Pagetitle title={pageTitle} />
      </Sticky>
      <TravellersDetailsContainer
        id={props.location.query.id}
        itineraryId={props.params.id}
      />
    </div>
  )
}

TravellersDetails.propTypes = {
  location: PropTypes.shape({
    query: PropTypes.shape({
      id: PropTypes.string
    })
  }).isRequired,
  params: PropTypes.objectOf(PropTypes.any).isRequired
}

TravellersDetails.displayName = 'Trains(TravellersDetailsPage)'

export default TravellersDetails
